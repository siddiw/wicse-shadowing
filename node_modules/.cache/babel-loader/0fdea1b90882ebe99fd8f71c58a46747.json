{"ast":null,"code":"import moment from \"moment\";\nimport * as jQuery from \"jquery\";\n\n(function ($, window, i) {\n  // Bootstrap 4 Modal\n  $.fn.fireModal = function (options) {\n    var options = $.extend({\n      size: 'modal-md',\n      center: false,\n      animation: true,\n      title: 'Modal Title',\n      closeButton: true,\n      header: true,\n      bodyClass: '',\n      footerClass: '',\n      body: '',\n      buttons: [],\n      autoFocus: true,\n      removeOnDismiss: false,\n      created: function () {},\n      appended: function () {},\n      onFormSubmit: function () {},\n      modal: {}\n    }, options);\n    this.each(function () {\n      i++;\n      var id = 'fire-modal-' + i,\n          trigger_class = 'trigger--' + id,\n          trigger_button = $('.' + trigger_class);\n      $(this).addClass(trigger_class); // Get modal body\n\n      let body = options.body;\n\n      if (typeof body == 'object') {\n        if (body.length) {\n          let part = body;\n          body = body.removeAttr('id').clone().removeClass('modal-part');\n          part.remove();\n        } else {\n          body = '<div class=\"text-danger\">Modal part element not found!</div>';\n        }\n      } // Modal base template\n\n\n      var modal_template = '   <div class=\"modal' + (options.animation == true ? ' fade' : '') + '\" tabindex=\"-1\" role=\"dialog\" id=\"' + id + '\">  ' + '     <div class=\"modal-dialog ' + options.size + (options.center ? ' modal-dialog-centered' : '') + '\" role=\"document\">  ' + '       <div class=\"modal-content\">  ' + (options.header == true ? '         <div class=\"modal-header\">  ' + '           <h5 class=\"modal-title\">' + options.title + '</h5>  ' + (options.closeButton == true ? '           <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">  ' + '             <span aria-hidden=\"true\">&times;</span>  ' + '           </button>  ' : '') + '         </div>  ' : '') + '         <div class=\"modal-body\">  ' + '         </div>  ' + (options.buttons.length > 0 ? '         <div class=\"modal-footer\">  ' + '         </div>  ' : '') + '       </div>  ' + '     </div>  ' + '  </div>  '; // Convert modal to object\n\n      var modal_template = $(modal_template); // Start creating buttons from 'buttons' option\n\n      var this_button;\n      options.buttons.forEach(function (item) {\n        // get option 'id'\n        let id = \"id\" in item ? item.id : ''; // Button template\n\n        this_button = '<button type=\"' + (\"submit\" in item && item.submit == true ? 'submit' : 'button') + '\" class=\"' + item.class + '\" id=\"' + id + '\">' + item.text + '</button>'; // add click event to the button\n\n        this_button = $(this_button).off('click').on(\"click\", function () {\n          // execute function from 'handler' option\n          item.handler.call(this, modal_template);\n        }); // append generated buttons to the modal footer\n\n        $(modal_template).find('.modal-footer').append(this_button);\n      }); // append a given body to the modal\n\n      $(modal_template).find('.modal-body').append(body); // add additional body class\n\n      if (options.bodyClass) $(modal_template).find('.modal-body').addClass(options.bodyClass); // add footer body class\n\n      if (options.footerClass) $(modal_template).find('.modal-footer').addClass(options.footerClass); // execute 'created' callback\n\n      options.created.call(this, modal_template, options); // modal form and submit form button\n\n      let modal_form = $(modal_template).find('.modal-body form'),\n          form_submit_btn = modal_template.find('button[type=submit]'); // append generated modal to the body\n\n      $(\"body\").append(modal_template); // execute 'appended' callback\n\n      options.appended.call(this, $('#' + id), modal_form, options); // if modal contains form elements\n\n      if (modal_form.length) {\n        // if `autoFocus` option is true\n        if (options.autoFocus) {\n          // when modal is shown\n          $(modal_template).on('shown.bs.modal', function () {\n            // if type of `autoFocus` option is `boolean`\n            if (typeof options.autoFocus == 'boolean') modal_form.find('input:eq(0)').focus(); // the first input element will be focused\n            // if type of `autoFocus` option is `string` and `autoFocus` option is an HTML element\n            else if (typeof options.autoFocus == 'string' && modal_form.find(options.autoFocus).length) modal_form.find(options.autoFocus).focus(); // find elements and focus on that\n          });\n        } // form object\n\n\n        let form_object = {\n          startProgress: function () {\n            modal_template.addClass('modal-progress');\n          },\n          stopProgress: function () {\n            modal_template.removeClass('modal-progress');\n          }\n        }; // if form is not contains button element\n\n        if (!modal_form.find('button').length) $(modal_form).append('<button class=\"d-none\" id=\"' + id + '-submit\"></button>'); // add click event\n\n        form_submit_btn.click(function () {\n          modal_form.submit();\n        }); // add submit event\n\n        modal_form.submit(function (e) {\n          // start form progress\n          form_object.startProgress(); // execute `onFormSubmit` callback\n\n          options.onFormSubmit.call(this, modal_template, e, form_object);\n        });\n      }\n\n      $(document).on(\"click\", '.' + trigger_class, function () {\n        let modal = $('#' + id).modal(options.modal);\n\n        if (options.removeOnDismiss) {\n          modal.on('hidden.bs.modal', function () {\n            modal.remove();\n          });\n        }\n\n        return false;\n      });\n    });\n  }; // Bootstrap Modal Destroyer\n\n\n  $.destroyModal = function (modal) {\n    modal.modal('hide');\n    modal.on('hidden.bs.modal', function () {});\n  }; // Card Progress Controller\n\n\n  $.cardProgress = function (card, options) {\n    var options = $.extend({\n      dismiss: false,\n      dismissText: 'Cancel',\n      spinner: true,\n      onDismiss: function () {}\n    }, options);\n    var me = $(card);\n    me.addClass('card-progress');\n\n    if (options.spinner == false) {\n      me.addClass('remove-spinner');\n    }\n\n    if (options.dismiss == true) {\n      var btn_dismiss = '<a class=\"btn btn-danger card-progress-dismiss\">' + options.dismissText + '</a>';\n      btn_dismiss = $(btn_dismiss).off('click').on('click', function () {\n        me.removeClass('card-progress');\n        me.find('.card-progress-dismiss').remove();\n        options.onDismiss.call(this, me);\n      });\n      me.append(btn_dismiss);\n    }\n\n    return {\n      dismiss: function (dismissed) {\n        $.cardProgressDismiss(me, dismissed);\n      }\n    };\n  };\n\n  $.cardProgressDismiss = function (card, dismissed) {\n    var me = $(card);\n    me.removeClass('card-progress');\n    me.find('.card-progress-dismiss').remove();\n    if (dismissed) dismissed.call(this, me);\n  };\n\n  $.chatCtrl = function (element, chat) {\n    var chat = $.extend({\n      position: 'chat-right',\n      text: '',\n      time: moment(new Date().toISOString()).format('hh:mm'),\n      picture: '',\n      type: 'text',\n      // or typing\n      timeout: 0,\n      onShow: function () {}\n    }, chat);\n    var target = $(element),\n        element = '<div class=\"chat-item ' + chat.position + '\" style=\"display:none\">' + '<img src=\"' + chat.picture + '\">' + '<div class=\"chat-details\">' + '<div class=\"chat-text\">' + chat.text + '</div>' + '<div class=\"chat-time\">' + chat.time + '</div>' + '</div>' + '</div>',\n        typing_element = '<div class=\"chat-item chat-left chat-typing\" style=\"display:none\">' + '<img src=\"' + chat.picture + '\">' + '<div class=\"chat-details\">' + '<div class=\"chat-text\"></div>' + '</div>' + '</div>';\n    var append_element = element;\n\n    if (chat.type == 'typing') {\n      append_element = typing_element;\n    }\n\n    if (chat.timeout > 0) {\n      setTimeout(function () {\n        target.find('.chat-content').append($(append_element).fadeIn());\n      }, chat.timeout);\n    } else {\n      target.find('.chat-content').append($(append_element).fadeIn());\n    }\n\n    var target_height = 0;\n    target.find('.chat-content .chat-item').each(function () {\n      target_height += $(this).outerHeight();\n    });\n    setTimeout(function () {\n      target.find('.chat-content').scrollTop(target_height, -1);\n    }, 100);\n    chat.onShow.call(this, append_element);\n  };\n})(jQuery, this, 0);","map":{"version":3,"sources":["/Users/siddhiw/Dropbox/Mac/Downloads/stisla-react-free-admin-dashboard/src/js/js/stisla.js"],"names":["moment","jQuery","$","window","i","fn","fireModal","options","extend","size","center","animation","title","closeButton","header","bodyClass","footerClass","body","buttons","autoFocus","removeOnDismiss","created","appended","onFormSubmit","modal","each","id","trigger_class","trigger_button","addClass","length","part","removeAttr","clone","removeClass","remove","modal_template","this_button","forEach","item","submit","class","text","off","on","handler","call","find","append","modal_form","form_submit_btn","focus","form_object","startProgress","stopProgress","click","e","document","destroyModal","cardProgress","card","dismiss","dismissText","spinner","onDismiss","me","btn_dismiss","dismissed","cardProgressDismiss","chatCtrl","element","chat","position","time","Date","toISOString","format","picture","type","timeout","onShow","target","typing_element","append_element","setTimeout","fadeIn","target_height","outerHeight","scrollTop"],"mappings":"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","sourcesContent":["import moment from \"moment\"\nimport * as jQuery from \"jquery\"\n(function ($, window, i) {\n  // Bootstrap 4 Modal\n  $.fn.fireModal = function (options) {\n    var options = $.extend({\n      size: 'modal-md',\n      center: false,\n      animation: true,\n      title: 'Modal Title',\n      closeButton: true,\n      header: true,\n      bodyClass: '',\n      footerClass: '',\n      body: '',\n      buttons: [],\n      autoFocus: true,\n      removeOnDismiss: false,\n      created: function () {},\n      appended: function () {},\n      onFormSubmit: function () {},\n      modal: {}\n    }, options);\n\n    this.each(function () {\n      i++;\n      var id = 'fire-modal-' + i,\n        trigger_class = 'trigger--' + id,\n        trigger_button = $('.' + trigger_class);\n\n      $(this).addClass(trigger_class);\n\n      // Get modal body\n      let body = options.body;\n\n      if (typeof body == 'object') {\n        if (body.length) {\n          let part = body;\n          body = body.removeAttr('id').clone().removeClass('modal-part');\n          part.remove();\n        } else {\n          body = '<div class=\"text-danger\">Modal part element not found!</div>';\n        }\n      }\n\n      // Modal base template\n      var modal_template = '   <div class=\"modal' + (options.animation == true ? ' fade' : '') + '\" tabindex=\"-1\" role=\"dialog\" id=\"' + id + '\">  ' +\n        '     <div class=\"modal-dialog ' + options.size + (options.center ? ' modal-dialog-centered' : '') + '\" role=\"document\">  ' +\n        '       <div class=\"modal-content\">  ' +\n        ((options.header == true) ?\n          '         <div class=\"modal-header\">  ' +\n          '           <h5 class=\"modal-title\">' + options.title + '</h5>  ' +\n          ((options.closeButton == true) ?\n            '           <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">  ' +\n            '             <span aria-hidden=\"true\">&times;</span>  ' +\n            '           </button>  ' :\n            '') +\n          '         </div>  ' :\n          '') +\n        '         <div class=\"modal-body\">  ' +\n        '         </div>  ' +\n        (options.buttons.length > 0 ?\n          '         <div class=\"modal-footer\">  ' +\n          '         </div>  ' :\n          '') +\n        '       </div>  ' +\n        '     </div>  ' +\n        '  </div>  ';\n\n      // Convert modal to object\n      var modal_template = $(modal_template);\n\n      // Start creating buttons from 'buttons' option\n      var this_button;\n      options.buttons.forEach(function (item) {\n        // get option 'id'\n        let id = \"id\" in item ? item.id : '';\n\n        // Button template\n        this_button = '<button type=\"' + (\"submit\" in item && item.submit == true ? 'submit' : 'button') + '\" class=\"' + item.class + '\" id=\"' + id + '\">' + item.text + '</button>';\n\n        // add click event to the button\n        this_button = $(this_button).off('click').on(\"click\", function () {\n          // execute function from 'handler' option\n          item.handler.call(this, modal_template);\n        });\n        // append generated buttons to the modal footer\n        $(modal_template).find('.modal-footer').append(this_button);\n      });\n\n      // append a given body to the modal\n      $(modal_template).find('.modal-body').append(body);\n\n      // add additional body class\n      if (options.bodyClass) $(modal_template).find('.modal-body').addClass(options.bodyClass);\n\n      // add footer body class\n      if (options.footerClass) $(modal_template).find('.modal-footer').addClass(options.footerClass);\n\n      // execute 'created' callback\n      options.created.call(this, modal_template, options);\n\n      // modal form and submit form button\n      let modal_form = $(modal_template).find('.modal-body form'),\n        form_submit_btn = modal_template.find('button[type=submit]');\n\n      // append generated modal to the body\n      $(\"body\").append(modal_template);\n\n      // execute 'appended' callback\n      options.appended.call(this, $('#' + id), modal_form, options);\n\n      // if modal contains form elements\n      if (modal_form.length) {\n        // if `autoFocus` option is true\n        if (options.autoFocus) {\n          // when modal is shown\n          $(modal_template).on('shown.bs.modal', function () {\n            // if type of `autoFocus` option is `boolean`\n            if (typeof options.autoFocus == 'boolean')\n              modal_form.find('input:eq(0)').focus(); // the first input element will be focused\n            // if type of `autoFocus` option is `string` and `autoFocus` option is an HTML element\n            else if (typeof options.autoFocus == 'string' && modal_form.find(options.autoFocus).length)\n              modal_form.find(options.autoFocus).focus(); // find elements and focus on that\n          });\n        }\n\n        // form object\n        let form_object = {\n          startProgress: function () {\n            modal_template.addClass('modal-progress');\n          },\n          stopProgress: function () {\n            modal_template.removeClass('modal-progress');\n          }\n        };\n\n        // if form is not contains button element\n        if (!modal_form.find('button').length) $(modal_form).append('<button class=\"d-none\" id=\"' + id + '-submit\"></button>');\n\n        // add click event\n        form_submit_btn.click(function () {\n          modal_form.submit();\n        });\n\n        // add submit event\n        modal_form.submit(function (e) {\n          // start form progress\n          form_object.startProgress();\n\n          // execute `onFormSubmit` callback\n          options.onFormSubmit.call(this, modal_template, e, form_object);\n        });\n      }\n\n      $(document).on(\"click\", '.' + trigger_class, function () {\n        let modal = $('#' + id).modal(options.modal);\n\n        if (options.removeOnDismiss) {\n          modal.on('hidden.bs.modal', function () {\n            modal.remove();\n          });\n        }\n\n        return false;\n      });\n    });\n  }\n\n  // Bootstrap Modal Destroyer\n  $.destroyModal = function (modal) {\n    modal.modal('hide');\n    modal.on('hidden.bs.modal', function () {});\n  }\n\n  // Card Progress Controller\n  $.cardProgress = function (card, options) {\n    var options = $.extend({\n      dismiss: false,\n      dismissText: 'Cancel',\n      spinner: true,\n      onDismiss: function () {}\n    }, options);\n\n    var me = $(card);\n\n    me.addClass('card-progress');\n    if (options.spinner == false) {\n      me.addClass('remove-spinner');\n    }\n\n    if (options.dismiss == true) {\n      var btn_dismiss = '<a class=\"btn btn-danger card-progress-dismiss\">' + options.dismissText + '</a>';\n      btn_dismiss = $(btn_dismiss).off('click').on('click', function () {\n        me.removeClass('card-progress');\n        me.find('.card-progress-dismiss').remove();\n        options.onDismiss.call(this, me);\n      });\n      me.append(btn_dismiss);\n    }\n\n    return {\n      dismiss: function (dismissed) {\n        $.cardProgressDismiss(me, dismissed);\n      }\n    };\n  }\n\n  $.cardProgressDismiss = function (card, dismissed) {\n    var me = $(card);\n    me.removeClass('card-progress');\n    me.find('.card-progress-dismiss').remove();\n    if (dismissed)\n      dismissed.call(this, me);\n  }\n\n  $.chatCtrl = function (element, chat) {\n    var chat = $.extend({\n      position: 'chat-right',\n      text: '',\n      time: moment(new Date().toISOString()).format('hh:mm'),\n      picture: '',\n      type: 'text', // or typing\n      timeout: 0,\n      onShow: function () {}\n    }, chat);\n\n    var target = $(element),\n      element = '<div class=\"chat-item ' + chat.position + '\" style=\"display:none\">' +\n      '<img src=\"' + chat.picture + '\">' +\n      '<div class=\"chat-details\">' +\n      '<div class=\"chat-text\">' + chat.text + '</div>' +\n      '<div class=\"chat-time\">' + chat.time + '</div>' +\n      '</div>' +\n      '</div>',\n      typing_element = '<div class=\"chat-item chat-left chat-typing\" style=\"display:none\">' +\n      '<img src=\"' + chat.picture + '\">' +\n      '<div class=\"chat-details\">' +\n      '<div class=\"chat-text\"></div>' +\n      '</div>' +\n      '</div>';\n\n    var append_element = element;\n    if (chat.type == 'typing') {\n      append_element = typing_element;\n    }\n\n    if (chat.timeout > 0) {\n      setTimeout(function () {\n        target.find('.chat-content').append($(append_element).fadeIn());\n      }, chat.timeout);\n    } else {\n      target.find('.chat-content').append($(append_element).fadeIn());\n    }\n\n    var target_height = 0;\n    target.find('.chat-content .chat-item').each(function () {\n      target_height += $(this).outerHeight();\n    });\n    setTimeout(function () {\n      target.find('.chat-content').scrollTop(target_height, -1);\n    }, 100);\n    chat.onShow.call(this, append_element);\n  }\n})(jQuery, this, 0);"]},"metadata":{},"sourceType":"module"}