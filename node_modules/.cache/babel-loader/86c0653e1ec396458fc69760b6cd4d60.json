{"ast":null,"code":"/*\n *  Bootstrap TouchSpin - v4.3.0\n *  A mobile and touch friendly input spinner component for Bootstrap 3 & 4.\n *  http://www.virtuosoft.eu/code/bootstrap-touchspin/\n *\n *  Made by István Ujj-Mészáros\n *  Under Apache License v2.0 License\n */\n!function (o) {\n  \"function\" == typeof define && define.amd ? define([\"jquery\"], o) : \"object\" == typeof module && module.exports ? module.exports = function (t, n) {\n    return void 0 === n && (n = \"undefined\" != typeof window ? require(\"jquery\") : require(\"jquery\")(t)), o(n), n;\n  } : o(jQuery);\n}(function (D) {\n  \"use strict\";\n\n  var N = 0;\n\n  D.fn.TouchSpin = function (k) {\n    var C = {\n      min: 0,\n      max: 100,\n      initval: \"\",\n      replacementval: \"\",\n      firstclickvalueifempty: null,\n      step: 1,\n      decimals: 0,\n      stepinterval: 100,\n      forcestepdivisibility: \"round\",\n      stepintervaldelay: 500,\n      verticalbuttons: !1,\n      verticalup: \"+\",\n      verticaldown: \"-\",\n      verticalupclass: \"\",\n      verticaldownclass: \"\",\n      prefix: \"\",\n      postfix: \"\",\n      prefix_extraclass: \"\",\n      postfix_extraclass: \"\",\n      booster: !0,\n      boostat: 10,\n      maxboostedstep: !1,\n      mousewheel: !0,\n      buttondown_class: \"btn btn-primary\",\n      buttonup_class: \"btn btn-primary\",\n      buttondown_txt: \"-\",\n      buttonup_txt: \"+\",\n      callback_before_calculation: function (t) {\n        return t;\n      },\n      callback_after_calculation: function (t) {\n        return t;\n      }\n    },\n        j = {\n      min: \"min\",\n      max: \"max\",\n      initval: \"init-val\",\n      replacementval: \"replacement-val\",\n      firstclickvalueifempty: \"first-click-value-if-empty\",\n      step: \"step\",\n      decimals: \"decimals\",\n      stepinterval: \"step-interval\",\n      verticalbuttons: \"vertical-buttons\",\n      verticalupclass: \"vertical-up-class\",\n      verticaldownclass: \"vertical-down-class\",\n      forcestepdivisibility: \"force-step-divisibility\",\n      stepintervaldelay: \"step-interval-delay\",\n      prefix: \"prefix\",\n      postfix: \"postfix\",\n      prefix_extraclass: \"prefix-extra-class\",\n      postfix_extraclass: \"postfix-extra-class\",\n      booster: \"booster\",\n      boostat: \"boostat\",\n      maxboostedstep: \"max-boosted-step\",\n      mousewheel: \"mouse-wheel\",\n      buttondown_class: \"button-down-class\",\n      buttonup_class: \"button-up-class\",\n      buttondown_txt: \"button-down-txt\",\n      buttonup_txt: \"button-up-txt\"\n    };\n    return this.each(function () {\n      var i,\n          o,\n          s,\n          u,\n          p,\n          a,\n          t,\n          n,\n          e,\n          r,\n          c = D(this),\n          l = c.data(),\n          d = 0,\n          f = !1;\n\n      function b() {\n        \"\" === i.prefix && (o = p.prefix.detach()), \"\" === i.postfix && (s = p.postfix.detach());\n      }\n\n      function h() {\n        var t, n, o;\n        \"\" !== (t = i.callback_before_calculation(c.val())) ? 0 < i.decimals && \".\" === t || (n = parseFloat(t), isNaN(n) && (n = \"\" !== i.replacementval ? i.replacementval : 0), (o = n).toString() !== t && (o = n), null !== i.min && n < i.min && (o = i.min), null !== i.max && n > i.max && (o = i.max), o = function (t) {\n          switch (i.forcestepdivisibility) {\n            case \"round\":\n              return (Math.round(t / i.step) * i.step).toFixed(i.decimals);\n\n            case \"floor\":\n              return (Math.floor(t / i.step) * i.step).toFixed(i.decimals);\n\n            case \"ceil\":\n              return (Math.ceil(t / i.step) * i.step).toFixed(i.decimals);\n\n            default:\n              return t.toFixed(i.decimals);\n          }\n        }(o), Number(t).toString() !== o.toString() && (c.val(o), c.trigger(\"change\"))) : \"\" !== i.replacementval && (c.val(i.replacementval), c.trigger(\"change\"));\n      }\n\n      function v() {\n        if (i.booster) {\n          var t = Math.pow(2, Math.floor(d / i.boostat)) * i.step;\n          return i.maxboostedstep && t > i.maxboostedstep && (t = i.maxboostedstep, a = Math.round(a / t) * t), Math.max(i.step, t);\n        }\n\n        return i.step;\n      }\n\n      function x() {\n        return \"number\" == typeof i.firstclickvalueifempty ? i.firstclickvalueifempty : (i.min + i.max) / 2;\n      }\n\n      function g() {\n        h();\n        var t,\n            n = a = parseFloat(i.callback_before_calculation(p.input.val()));\n        isNaN(a) ? a = x() : (t = v(), a += t), null !== i.max && a > i.max && (a = i.max, c.trigger(\"touchspin.on.max\"), y()), p.input.val(i.callback_after_calculation(Number(a).toFixed(i.decimals))), n !== a && c.trigger(\"change\");\n      }\n\n      function m() {\n        h();\n        var t,\n            n = a = parseFloat(i.callback_before_calculation(p.input.val()));\n        isNaN(a) ? a = x() : (t = v(), a -= t), null !== i.min && a < i.min && (a = i.min, c.trigger(\"touchspin.on.min\"), y()), p.input.val(i.callback_after_calculation(Number(a).toFixed(i.decimals))), n !== a && c.trigger(\"change\");\n      }\n\n      function w() {\n        y(), d = 0, f = \"down\", c.trigger(\"touchspin.on.startspin\"), c.trigger(\"touchspin.on.startdownspin\"), e = setTimeout(function () {\n          t = setInterval(function () {\n            d++, m();\n          }, i.stepinterval);\n        }, i.stepintervaldelay);\n      }\n\n      function _() {\n        y(), d = 0, f = \"up\", c.trigger(\"touchspin.on.startspin\"), c.trigger(\"touchspin.on.startupspin\"), r = setTimeout(function () {\n          n = setInterval(function () {\n            d++, g();\n          }, i.stepinterval);\n        }, i.stepintervaldelay);\n      }\n\n      function y() {\n        switch (clearTimeout(e), clearTimeout(r), clearInterval(t), clearInterval(n), f) {\n          case \"up\":\n            c.trigger(\"touchspin.on.stopupspin\"), c.trigger(\"touchspin.on.stopspin\");\n            break;\n\n          case \"down\":\n            c.trigger(\"touchspin.on.stopdownspin\"), c.trigger(\"touchspin.on.stopspin\");\n        }\n\n        d = 0, f = !1;\n      }\n\n      !function () {\n        if (c.data(\"alreadyinitialized\")) return;\n        if (c.data(\"alreadyinitialized\", !0), N += 1, c.data(\"spinnerid\", N), !c.is(\"input\")) return console.log(\"Must be an input.\");\n        i = D.extend({}, C, l, function () {\n          var s = {};\n          return D.each(j, function (t, n) {\n            var o = \"bts-\" + n;\n            c.is(\"[data-\" + o + \"]\") && (s[t] = c.data(o));\n          }), s;\n        }(), k), \"\" !== i.initval && \"\" === c.val() && c.val(i.initval), h(), function () {\n          var t = c.val(),\n              n = c.parent();\n          \"\" !== t && (t = i.callback_after_calculation(Number(t).toFixed(i.decimals)));\n          c.data(\"initvalue\", t).val(t), c.addClass(\"form-control\"), n.hasClass(\"input-group\") ? function (t) {\n            t.addClass(\"bootstrap-touchspin\");\n            var n,\n                o,\n                s = c.prev(),\n                p = c.next(),\n                a = '<span class=\"input-group-addon input-group-prepend bootstrap-touchspin-prefix input-group-prepend bootstrap-touchspin-injected\"><span class=\"input-group-text\">' + i.prefix + \"</span></span>\",\n                e = '<span class=\"input-group-addon input-group-append bootstrap-touchspin-postfix input-group-append bootstrap-touchspin-injected\"><span class=\"input-group-text\">' + i.postfix + \"</span></span>\";\n            s.hasClass(\"input-group-btn\") || s.hasClass(\"input-group-prepend\") ? (n = '<button class=\"' + i.buttondown_class + ' bootstrap-touchspin-down bootstrap-touchspin-injected\" type=\"button\">' + i.buttondown_txt + \"</button>\", s.append(n)) : (n = '<span class=\"input-group-btn input-group-prepend bootstrap-touchspin-injected\"><button class=\"' + i.buttondown_class + ' bootstrap-touchspin-down\" type=\"button\">' + i.buttondown_txt + \"</button></span>\", D(n).insertBefore(c));\n            p.hasClass(\"input-group-btn\") || p.hasClass(\"input-group-append\") ? (o = '<button class=\"' + i.buttonup_class + ' bootstrap-touchspin-up bootstrap-touchspin-injected\" type=\"button\">' + i.buttonup_txt + \"</button>\", p.prepend(o)) : (o = '<span class=\"input-group-btn input-group-append bootstrap-touchspin-injected\"><button class=\"' + i.buttonup_class + ' bootstrap-touchspin-up\" type=\"button\">' + i.buttonup_txt + \"</button></span>\", D(o).insertAfter(c));\n            D(a).insertBefore(c), D(e).insertAfter(c), u = t;\n          }(n) : function () {\n            var t,\n                n = \"\";\n            c.hasClass(\"input-sm\") && (n = \"input-group-sm\");\n            c.hasClass(\"input-lg\") && (n = \"input-group-lg\");\n            t = i.verticalbuttons ? '<div class=\"input-group ' + n + ' bootstrap-touchspin bootstrap-touchspin-injected\"><span class=\"input-group-addon input-group-prepend bootstrap-touchspin-prefix\"><span class=\"input-group-text\">' + i.prefix + '</span></span><span class=\"input-group-addon bootstrap-touchspin-postfix input-group-append\"><span class=\"input-group-text\">' + i.postfix + '</span></span><span class=\"input-group-btn-vertical\"><button class=\"' + i.buttondown_class + \" bootstrap-touchspin-up \" + i.verticalupclass + '\" type=\"button\">' + i.verticalup + '</button><button class=\"' + i.buttonup_class + \" bootstrap-touchspin-down \" + i.verticaldownclass + '\" type=\"button\">' + i.verticaldown + \"</button></span></div>\" : '<div class=\"input-group bootstrap-touchspin bootstrap-touchspin-injected\"><span class=\"input-group-btn input-group-prepend\"><button class=\"' + i.buttondown_class + ' bootstrap-touchspin-down\" type=\"button\">' + i.buttondown_txt + '</button></span><span class=\"input-group-addon bootstrap-touchspin-prefix input-group-prepend\"><span class=\"input-group-text\">' + i.prefix + '</span></span><span class=\"input-group-addon bootstrap-touchspin-postfix input-group-append\"><span class=\"input-group-text\">' + i.postfix + '</span></span><span class=\"input-group-btn input-group-append\"><button class=\"' + i.buttonup_class + ' bootstrap-touchspin-up\" type=\"button\">' + i.buttonup_txt + \"</button></span></div>\";\n            u = D(t).insertBefore(c), D(\".bootstrap-touchspin-prefix\", u).after(c), c.hasClass(\"input-sm\") ? u.addClass(\"input-group-sm\") : c.hasClass(\"input-lg\") && u.addClass(\"input-group-lg\");\n          }();\n        }(), p = {\n          down: D(\".bootstrap-touchspin-down\", u),\n          up: D(\".bootstrap-touchspin-up\", u),\n          input: D(\"input\", u),\n          prefix: D(\".bootstrap-touchspin-prefix\", u).addClass(i.prefix_extraclass),\n          postfix: D(\".bootstrap-touchspin-postfix\", u).addClass(i.postfix_extraclass)\n        }, b(), c.on(\"keydown.touchspin\", function (t) {\n          var n = t.keyCode || t.which;\n          38 === n ? (\"up\" !== f && (g(), _()), t.preventDefault()) : 40 === n && (\"down\" !== f && (m(), w()), t.preventDefault());\n        }), c.on(\"keyup.touchspin\", function (t) {\n          var n = t.keyCode || t.which;\n          38 !== n && 40 !== n || y();\n        }), c.on(\"blur.touchspin\", function () {\n          h(), c.val(i.callback_after_calculation(c.val()));\n        }), p.down.on(\"keydown\", function (t) {\n          var n = t.keyCode || t.which;\n          32 !== n && 13 !== n || (\"down\" !== f && (m(), w()), t.preventDefault());\n        }), p.down.on(\"keyup.touchspin\", function (t) {\n          var n = t.keyCode || t.which;\n          32 !== n && 13 !== n || y();\n        }), p.up.on(\"keydown.touchspin\", function (t) {\n          var n = t.keyCode || t.which;\n          32 !== n && 13 !== n || (\"up\" !== f && (g(), _()), t.preventDefault());\n        }), p.up.on(\"keyup.touchspin\", function (t) {\n          var n = t.keyCode || t.which;\n          32 !== n && 13 !== n || y();\n        }), p.down.on(\"mousedown.touchspin\", function (t) {\n          p.down.off(\"touchstart.touchspin\"), c.is(\":disabled\") || (m(), w(), t.preventDefault(), t.stopPropagation());\n        }), p.down.on(\"touchstart.touchspin\", function (t) {\n          p.down.off(\"mousedown.touchspin\"), c.is(\":disabled\") || (m(), w(), t.preventDefault(), t.stopPropagation());\n        }), p.up.on(\"mousedown.touchspin\", function (t) {\n          p.up.off(\"touchstart.touchspin\"), c.is(\":disabled\") || (g(), _(), t.preventDefault(), t.stopPropagation());\n        }), p.up.on(\"touchstart.touchspin\", function (t) {\n          p.up.off(\"mousedown.touchspin\"), c.is(\":disabled\") || (g(), _(), t.preventDefault(), t.stopPropagation());\n        }), p.up.on(\"mouseup.touchspin mouseout.touchspin touchleave.touchspin touchend.touchspin touchcancel.touchspin\", function (t) {\n          f && (t.stopPropagation(), y());\n        }), p.down.on(\"mouseup.touchspin mouseout.touchspin touchleave.touchspin touchend.touchspin touchcancel.touchspin\", function (t) {\n          f && (t.stopPropagation(), y());\n        }), p.down.on(\"mousemove.touchspin touchmove.touchspin\", function (t) {\n          f && (t.stopPropagation(), t.preventDefault());\n        }), p.up.on(\"mousemove.touchspin touchmove.touchspin\", function (t) {\n          f && (t.stopPropagation(), t.preventDefault());\n        }), c.on(\"mousewheel.touchspin DOMMouseScroll.touchspin\", function (t) {\n          if (i.mousewheel && c.is(\":focus\")) {\n            var n = t.originalEvent.wheelDelta || -t.originalEvent.deltaY || -t.originalEvent.detail;\n            t.stopPropagation(), t.preventDefault(), (n < 0 ? m : g)();\n          }\n        }), c.on(\"touchspin.destroy\", function () {\n          !function () {\n            var t = c.parent();\n            y(), c.off(\".touchspin\"), t.hasClass(\"bootstrap-touchspin-injected\") ? (c.siblings().remove(), c.unwrap()) : (D(\".bootstrap-touchspin-injected\", t).remove(), t.removeClass(\"bootstrap-touchspin\"));\n            c.data(\"alreadyinitialized\", !1);\n          }();\n        }), c.on(\"touchspin.uponce\", function () {\n          y(), g();\n        }), c.on(\"touchspin.downonce\", function () {\n          y(), m();\n        }), c.on(\"touchspin.startupspin\", function () {\n          _();\n        }), c.on(\"touchspin.startdownspin\", function () {\n          w();\n        }), c.on(\"touchspin.stopspin\", function () {\n          y();\n        }), c.on(\"touchspin.updatesettings\", function (t, n) {\n          !function (t) {\n            (function (t) {\n              if (i = D.extend({}, i, t), t.postfix) {\n                0 === c.parent().find(\".bootstrap-touchspin-postfix\").length && s.insertAfter(c), c.parent().find(\".bootstrap-touchspin-postfix .input-group-text\").text(t.postfix);\n              }\n\n              if (t.prefix) {\n                0 === c.parent().find(\".bootstrap-touchspin-prefix\").length && o.insertBefore(c), c.parent().find(\".bootstrap-touchspin-prefix .input-group-text\").text(t.prefix);\n              }\n\n              b();\n            })(t), h();\n            var n = p.input.val();\n            \"\" !== n && (n = Number(i.callback_before_calculation(p.input.val())), p.input.val(i.callback_after_calculation(Number(n).toFixed(i.decimals))));\n          }(n);\n        });\n      }();\n    });\n  };\n});","map":null,"metadata":{},"sourceType":"script"}